#Комп’ютерний практикум № 9

#БІНАРНІ ФАЙЛИ

*Мета роботи* - вивчити особливості створення і обробки бінарних файлів.

##Теоретичні відомості
Бінарні файли є послідовністю байтів інформації. Вони використовуються для збереження компонент визначеного типу.
Бінарні файли зберігають інформацію у внутрішньому двійковому поданні. При перегляді такого файлу неможливо зрозуміти, що в ньому записано - можна побачити лише послідовність байт в шістнадцятковому форматі. Такий файл не можна створювати або виправляти вручну у текстовому редакторі.  

У бінарних файлах інформація зчитується і записується у вигляді блоків певного розміру, в яких можуть зберігатися дані будь-якого виду і структури. 

Оскільки компоненти бінарного файла належать до одного типу, то його структура нагадує структуру масиву. Різниця між цими двома структурними типами полягає в тому, що у масива кількість елементів фіксується при оголошенні і він цілком розташовується в оперативній пам’яті; у файла ж кількість елементів у процесі роботи програми може змінюватися, і він міститься на зовнішніх носіях інформації.  

У С-програмах бінарний файл оголошують аналогічно текстовому, тобто як змінну-покажчик на стандартну структуру типу `FILE`. Відкриття бінарного файлу, як і текстового, здійснюється за допомогою функції `fopen_s()`.  

Ознакою відкриття саме бінарного файла є додавання до рядка, що визначає режим доступу до файла, суфікса `b`. Як і у випадку текстових файлів, символ «+» означає відкриття файла і для читання, і для запису.   

Читання-запис бінарних файлів здійснюється, в основному, функціями блокового та форматованого введення-виведення.  

Засобами блокового введення-виведення є функції `fread()` і `fwrite()` (таблиця 1).

Таблиця 1. Функції блокового введення-виведення  

| Функція   |      Опис      |
|----------|:-------------:|
| `size_t fread(p, size, n, f)` | читання із файла f заданої кількості (n) елементів даних, кожен із яких має заданий розмір (size), і розміщення їх за покажчиком p; |
| `size_t fwrite(p, size, n, f)` | запис в кінець файла f заданої кількості (n) елементів даних, кожен із яких має заданий розмір (size), вибираючи їх за покажчиком р |

Для форматованого введення-виведення використовуються функцій `fscanf_s()` і `fprintf_s()` (таблиця 2).

Таблиця 2. Функції форматованого введення-виведення  

| Функція   |      Опис      |
|----------|:-------------:|
| `int fscanf_s(FILE *stream, const char *format [,argument ]...);` | зчитування даних iз файла stream по формату format в аргументи [,argument ] |
| `int fprintf_s(FILE *stream, const char *format [,argument ]...);` | запис у файл stream по формату format списку аргументів [,argument ]|

Як результат, у всіх цих функцій, повертається кількість зчитаних (записаних) елементів або 0. У разі винекнення помилки, буде повернуто від'ємне значення. 

Хоча дані у бінарний файл записуються послідовно, у порядку їхнього надходження, оброблятися такі файли можуть двома способами: *послідовно* (доступ до елемента можливий тільки після перегляду усіх попередніх компонент файла) та за допомогою *прямого доступу* (доступ до елемента здійснюється безпосередньо за його номером).  

У С-програмах позиціонування всередині файлу забезпечується функцією `int fseek(FILE *stream, long offset, int origin)`.    
Параметри:  
**stream** - покажчик на відкритий файл;  
**offset** - число байт починаючи з **origin**;  
**origin** - початкова позиція покажчика (може приймати значення: `SEEK_CUR` - поточна позиція покажчика позиції, `SEEK_END` - кінець файлу, `SEEK_SET` - початок файлу, за замовчуванням приймає  значення `SEEK_SET`).  

Встановити файловий покажчик на початок файлу можна також за допомогою функції `rewind()`.

##	Вимоги до програми
1.	Відповідність модульному підходу.
2.	Виведення вхідних, проміжкових і вихідних даних.
3.	Створення файла програмним шляхом.
4.	Використання об'єднань.
5.	Реалізація меню.
6.	Можливість редагування файла, у тому числі і доповнення.

## Варіанти завдань
1.	Створити файл структур з інформацією про студентів і кураторів відповід-них груп. Кожна структура містить дані про викладача-куратора (його прізвище, ім’я, по-батькові) та студентів відповідної групи (їх прізвища, імена, по-батькові). Для викладача також задається його посада та дата народження; для студента – форма його навчання та середній бал успішності за останню сесію. Реалізувати наступні дії:  
1) на кожному потоці визначити студентів з мінімальним середнім балом успішності, групи, в яких вони навчаються, та кураторів відповідних груп;   
2) вивести відсортований за прізвищами список викладачів-доцентів пен-сійного віку;   
3) в новому бінарному файлі сформувати список рекомендованих в магіст-ратуру студентів-четверокурсників денної форми навчання, середній бал успішності яких не менше “4”.  


